(this.webpackJsonpinterview=this.webpackJsonpinterview||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,a,t){},,,function(e,a,t){e.exports=t(42)},,,,,function(e,a,t){},function(e,a,t){},,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),c=t.n(r),d=(t(24),t(18)),o=t(5),i=t(7),s=t(6),m=(t(25),t(10)),u=(t(36),t(37),function(e){return l.a.createElement("div",{className:"addNewPartner"},l.a.createElement("button",{className:"newPartner",onClick:e.handleOpenAddPanel},l.a.createElement("i",{className:"fas fa-user-plus"})))}),h=t(12),p=(t(16),function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleAddFormChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.render=function(){var e=n.state,a=e.name,t=e.industry,r=e.city,c=e.country,d=e.number,o=e.postcode,i=e.region,s=e.street,m=e.email,u=e.phone,h=e.err,p=l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==a&&""!==t&&""!==r&&""!==c&&""!==d&&""!==o&&""!==i&&""!==s&&""!==m&&""!==u?n.props.handleAddNewPartner(a,t,r,c,d,o,i,s,m,u):n.setState({err:!0})}},l.a.createElement("div",{className:"company"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Nazwa firmy:"),l.a.createElement("input",{id:"name",name:"name",type:"text",value:a,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"industry"},"Bran\u017ca:"),l.a.createElement("input",{id:"industry",name:"industry",type:"text",value:t,onChange:n.handleAddFormChange}))),l.a.createElement("div",{className:"address"},l.a.createElement("p",null,"Adres:"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"street"},"Ulica:"),l.a.createElement("input",{id:"street",name:"street",type:"text",value:s,onChange:n.handleAddFormChange}),l.a.createElement("label",{htmlFor:"number"},"Nr.:"),l.a.createElement("input",{id:"number",name:"number",type:"text",value:d,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"postcode"},"Kod pocztowy:"),l.a.createElement("input",{id:"strpostcodeepostcodeet",name:"postcode",type:"text",value:o,onChange:n.handleAddFormChange}),l.a.createElement("label",{htmlFor:"city"},"Miejscowo\u015b\u0107:"),l.a.createElement("input",{id:"city",name:"city",type:"text",value:r,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"region"},"Wojew\xf3dztwo:"),l.a.createElement("input",{id:"region",name:"region",type:"text",value:i,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"country"},"Kraj:"),l.a.createElement("input",{id:"country",name:"country",type:"text",value:c,onChange:n.handleAddFormChange}))),l.a.createElement("div",{className:"contact"},l.a.createElement("p",null,"Kontakt:"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"phone"},"Tel:"),l.a.createElement("input",{id:"phone",name:"phone",type:"text",value:u,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"E-mail:"),l.a.createElement("input",{id:"email",name:"email",type:"text",value:m,onChange:n.handleAddFormChange}))),h?l.a.createElement("p",{className:"error"},"Wszytskie pola musz\u0105 zosat\u0107 wype\u0142nione"):null,l.a.createElement("button",{className:"add"},"Dodaj kontrahenta"));return l.a.createElement("div",{className:"addPanel"},l.a.createElement("div",{className:"closePanel"},l.a.createElement("button",{onClick:n.props.handleCloseAddPanel},l.a.createElement("i",{className:"far fa-times-circle"}))),l.a.createElement("p",{className:"addPanelTitle"},"Dodaj nowego kontrahenta"),p)},n.state={name:"",industry:"",city:"",country:"",number:"",postcode:"",region:"",street:"",email:"",phone:"",err:!1},n}return t}(l.a.Component)),E=(t(38),function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleSearchChange=function(e){n.setState({searchValue:e.target.value})},n.render=function(){return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.props.handlePartnerSearch(n.state.searchValue)},className:"partnerSearch"},l.a.createElement("input",{type:"text",value:n.state.searchValue,onChange:n.handleSearchChange}),l.a.createElement("div",{className:"searchButton"},l.a.createElement("button",null,l.a.createElement("i",{className:"fas fa-search"}))))},n.state={searchValue:""},n}return t}(l.a.Component)),v=function(e){var a=e.indexes,t=e.searched,n=e.addPanelActive,r=e.handleOpenAddPanel,c=e.handleCloseAddPanel,d=e.handleShowPartner,o=e.handleAddNewPartner,i=e.handlePartnerSearch,s=a.map((function(e){return l.a.createElement("button",{key:e.id,className:"partnerButton",onClick:function(){return d(e.id)}},e.name)})),m=t.map((function(e){return l.a.createElement("button",{key:e.id,className:"partnerButton",onClick:function(){return d(e.id)}},e.name)})),h=l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Wyniki wyszukiwania:"),l.a.createElement("ul",{className:"searchedList"},m));return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{handlePartnerSearch:i}),m.length>0?h:null,l.a.createElement("ul",{className:"partnersList"},s),l.a.createElement(u,{handleOpenAddPanel:r}),n?l.a.createElement(p,{handleCloseAddPanel:c,handleAddNewPartner:o}):null)},f=(t(39),t(40),function(e){var a=e.id,t=e.handleDelPartner;return l.a.createElement("div",{className:"delPartner"},l.a.createElement("button",{className:"delButton",onClick:function(){return t(a)}},l.a.createElement("i",{className:"fas fa-user-minus"})))}),y=(t(41),function(e){var a=e.handleEditPartner;return l.a.createElement("div",{className:"editPartner"},l.a.createElement("button",{className:"editButton",onClick:a},l.a.createElement("i",{className:"fas fa-user-edit"})))}),g=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleAddFormChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.render=function(){var e=n.state,a=e.id,t=e.name,r=e.industry,c=e.city,d=e.country,o=e.number,i=e.postcode,s=e.region,m=e.street,u=e.email,h=e.phone,p=e.err,E=l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==t&&""!==r&&""!==c&&""!==d&&""!==o&&""!==i&&""!==s&&""!==m&&""!==u&&""!==h?n.props.handleEditPartner(a,t,r,c,d,o,i,s,m,u,h):n.setState({err:!0})}},l.a.createElement("div",{className:"company"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Nazwa firmy:"),l.a.createElement("input",{id:"name",name:"name",type:"text",value:t,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"industry"},"Bran\u017ca:"),l.a.createElement("input",{id:"industry",name:"industry",type:"text",value:r,onChange:n.handleAddFormChange}))),l.a.createElement("div",{className:"address"},l.a.createElement("p",null,"Adres:"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"street"},"Ulica:"),l.a.createElement("input",{id:"street",name:"street",type:"text",value:m,onChange:n.handleAddFormChange}),l.a.createElement("label",{htmlFor:"number"},"Nr.:"),l.a.createElement("input",{id:"number",name:"number",type:"text",value:o,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"postcode"},"Kod pocztowy:"),l.a.createElement("input",{id:"strpostcodeepostcodeet",name:"postcode",type:"text",value:i,onChange:n.handleAddFormChange}),l.a.createElement("label",{htmlFor:"city"},"Miejscowo\u015b\u0107:"),l.a.createElement("input",{id:"city",name:"city",type:"text",value:c,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"region"},"Wojew\xf3dztwo:"),l.a.createElement("input",{id:"region",name:"region",type:"text",value:s,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"country"},"Kraj:"),l.a.createElement("input",{id:"country",name:"country",type:"text",value:d,onChange:n.handleAddFormChange}))),l.a.createElement("div",{className:"contact"},l.a.createElement("p",null,"Kontakt:"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"phone"},"Tel:"),l.a.createElement("input",{id:"phone",name:"phone",type:"text",value:h,onChange:n.handleAddFormChange})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"E-mail:"),l.a.createElement("input",{id:"email",name:"email",type:"text",value:u,onChange:n.handleAddFormChange}))),p?l.a.createElement("p",{className:"error"},"Wszytskie pola musz\u0105 zosat\u0107 wype\u0142nione"):null,l.a.createElement("button",{className:"add"},"Edytuj kontrahenta"));return l.a.createElement("div",{className:"addPanel"},l.a.createElement("div",{className:"closePanel"},l.a.createElement("button",{onClick:n.props.handleCloseAddPanel},l.a.createElement("i",{className:"far fa-times-circle"}))),l.a.createElement("p",{className:"addPanelTitle"},"Edytuj kontrahenta"),E)},n.state={id:e.chosen.id,name:e.chosen.name,industry:e.chosen.industry,city:e.chosen.address.city,country:e.chosen.address.country,number:e.chosen.address.number,postcode:e.chosen.address.postcode,region:e.chosen.address.region,street:e.chosen.address.street,email:e.chosen.contact.email,phone:e.chosen.contact.phone,err:!1},n}return t}(l.a.Component),P=function(e){var a=e.task,t=a.id,n=a.items,r="";switch(a.status){case"waiting":r="Zlecenie oczekuje na realizacj\u0119";break;case"executing":r="Zlecenie w trakcie realizacji";break;case"sent":r="Zlecenie wy\u0142ane";break;default:r="Status zlecenia nieznany"}return l.a.createElement("div",{className:"currentTask"},l.a.createElement("p",{className:"number"},"Numer zlecenia: ",l.a.createElement("span",null,t)),l.a.createElement("p",null,n.item," - ",l.a.createElement("span",null,n.amount)," szt."),l.a.createElement("p",null,"Status zlecenia: ",r))},C=function(e){var a=!1;if(void 0!==e.chosen.name&&(a=!0),a){var t=e.handleOpenEditPartner,n=e.handleDelPartner,r=e.editPanelActive,c=e.handleEditPartner,d=e.handleCloseEditPanel,o=e.chosen,i=o.name,s=o.industry,m=o.id,u=o.current,h=o.history,p=e.chosen.address,E=p.street,v=p.number,C=p.postcode,b=p.city,N=p.country,A=e.chosen.contact,w=A.phone,F=A.email,k="";void 0!==u&&(k=l.a.createElement("div",{className:"currents"},l.a.createElement("p",null,"Aktualne zlecenia:"),u.map((function(e){return l.a.createElement(P,{key:e.id,task:e})}))));var S="";return void 0!==h&&(S=l.a.createElement("div",{className:"currents"},l.a.createElement("p",null,"Archiwalne zlecenia:"),h.map((function(e){return l.a.createElement(P,{key:e.id,task:e})})))),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"partner"},l.a.createElement("div",{className:"partnerTitle"},l.a.createElement("p",null,"Firma: ",l.a.createElement("span",{style:{fontWeight:"bold"}},i)),l.a.createElement("p",null,"Bran\u017ca: ",s)),l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"address"},l.a.createElement("p",null,"Adres:"),l.a.createElement("p",null,E," ",v),l.a.createElement("p",null,C," ",b),l.a.createElement("p",null,N)),l.a.createElement("div",{className:"contact"},l.a.createElement("p",null,"Kontakt:"),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-phone"})," ",w),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-envelope-open"})," ",F))),l.a.createElement("div",{className:"current"},void 0!==u?k:l.a.createElement("p",{className:"noCurrent"},"Brak aktualnych zlece\u0144")),l.a.createElement("div",{className:"history"},void 0!==h?S:l.a.createElement("p",{className:"noCurrent"},"Brak archiwalnych zlece\u0144"))),l.a.createElement(f,{id:m,handleDelPartner:n}),l.a.createElement(y,{handleEditPartner:t}),r?l.a.createElement(g,{handleEditPartner:c,handleCloseAddPanel:d,chosen:e.chosen}):null)}return null},b={apiKey:"AIzaSyCbhXKJojKrQGO5Wdm6PKQCUDylj_a-R_k",authDomain:"interview-97047.firebaseapp.com",databaseURL:"https://interview-97047.firebaseio.com",projectId:"interview-97047",storageBucket:"interview-97047.appspot.com",messagingSenderId:"683128932981",appId:"1:683128932981:web:f83a7d4d6df9cf9581863c"},N=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).getIndexesDB=function(){n.dBRef.child("index").on("value",(function(e){var a=e.val();n.setState({indexes:a})}))},n.getPartner=function(e){n.dBRef.child("/partners/".concat(e)).once("value",(function(e){var a=e.val();n.setState({actualChosen:a})}))},n.handleOpenAddPanel=function(){n.setState((function(){return{actualChosen:{},addPanelActive:!0}}))},n.handleCloseAddPanel=function(){n.setState((function(){return{addPanelActive:!1}}))},n.handleAddNewPartner=function(e,a,t,l,r,c,d,o,i,s){var m={id:n.state.indexes.length,name:e,industry:a,history:[],current:[],logo:"",address:{city:t,country:l,number:r,postcode:c,region:d,street:o},contact:{email:i,phone:s}};n.setState((function(){return{addPanelActive:!1}})),n.dBAddNewPartner(m),alert("Dodano nowego kontrahenta!")},n.dBAddNewPartner=function(e){m.database().ref("/index/".concat(e.id)).set({id:e.id,name:e.name}),m.database().ref("/partners/".concat(e.id)).set(e)},n.handleShowPartner=function(e){n.getPartner(e)},n.handleOpenEditPanel=function(){n.setState({editPanelActive:!0})},n.handleCloseEditPanel=function(){n.setState((function(){return{editPanelActive:!1}}))},n.handleEditPartner=function(e,a,t,l,r,c,d,o,i,s,m){var u={id:e,name:a,industry:t,history:[],current:[],logo:"",address:{city:l,country:r,number:c,postcode:d,region:o,street:i},contact:{email:s,phone:m}};n.setState((function(){return{actualChosen:u,editPanelActive:!1}})),n.dBAddNewPartner(u),alert("Edytowano kontrahenta: ".concat(u.name))},n.handleDelPartner=function(e){n.dBDelPartner(e),n.setState({actualChosen:{}}),alert("Edytowano kontrahenta: ".concat(n.state.actualChosen.name))},n.dBDelPartner=function(e){m.database().ref("/partners/".concat(e)).remove().then((function(){console.log("Partner removed \n")})).catch((function(e){console.log("Remove failed: "+e.message)})),m.database().ref("/index/".concat(e)).remove().then((function(){console.log("Index removed\n")})).catch((function(e){console.log("Remove failed: "+e.message)}))},n.handlePartnerSearch=function(e){if(""!==e){console.log("Szukam ".concat(e));var a=Object(d.a)(n.state.indexes).filter((function(a){return!!a.name.toLowerCase().includes(e.toLowerCase())}));console.log(a),a.length>0?n.setState({searched:a}):(alert("Nie znaleziono firmy: ".concat(e)),document.querySelector(".partnerSearch>input").value="")}else n.setState({searched:[]})},n.componentDidMount=function(){m.initializeApp(b),n.dBRef=m.database().ref("/"),n.getIndexesDB()},n.render=function(){var e=n.state,a=e.indexes,t=e.searched,r=e.addPanelActive,c=e.actualChosen,d=e.editPanelActive;return l.a.createElement("div",{className:"wrap"},l.a.createElement("section",{className:"panel"},l.a.createElement(v,{indexes:a,searched:t,addPanelActive:r,handleOpenAddPanel:n.handleOpenAddPanel,handleCloseAddPanel:n.handleCloseAddPanel,handleShowPartner:n.handleShowPartner,handlePartnerSearch:n.handlePartnerSearch,handleAddNewPartner:n.handleAddNewPartner})),l.a.createElement("section",{className:"display"},l.a.createElement(C,{chosen:c,editPanelActive:d,handleOpenEditPartner:n.handleOpenEditPanel,handleEditPartner:n.handleEditPartner,handleCloseEditPanel:n.handleCloseEditPanel,handleDelPartner:n.handleDelPartner})))},n.dBRef="",n.state={actualChosen:{},indexes:[],searched:[],addPanelActive:!1,editPanelActive:!1},n}return t}(l.a.Component);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(N,null)),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.6bee826d.chunk.js.map